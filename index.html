<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="format-detection" content="telephone=no">
<title>Or√ßamento Telas Mosquiteiras</title>
<style>
html {
  font-size: 16px;
}
* { box-sizing: border-box; }

body {
  font-family: 'Poppins', sans-serif;
  background: #1e1e1e;
  color: #eee;
  margin: 0;
  padding: 0;
  display: flex;
  justify-content: center;
  align-items: flex-start; /* topo em mobile */
  min-height: 100vh;
}

.container {
  max-width: 600px;
  width: 95%;  /* quase toda a tela em mobile */
  background: #232323;
  padding: 20px;
  border-radius: 16px;
  box-shadow: 0 0 18px rgba(0,0,0,0.5);
  text-align: center;
  margin-top: 20px; /* espa√ßo no topo em mobile */

button.remove {
  width: 100%;
  background: #000 !important;
  color: #fff !important;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  font-size: 18px;
  border: 2px solid #e53935;
  margin-top: 8px;
  gap: 8px;
}
button.remove .emoji {
  color: #e53935;
  font-size: 20px;
  margin-right: 6px;
}

h2 { font-size: 22px; margin-bottom: 15px; }
h3 { font-size: 18px; margin-top: 20px; }

label {
  display: block;
  font-weight: 600;
  margin-top: 10px;
  font-size: 14px;
  color: #fafafa;
  text-align: center;
}

input, select {
  width: 100%;
  padding: 12px;
  font-size: 18px;
  border-radius: 8px;
  border: 1px solid #555;
  margin-top: 5px;
  background:#3a3a3a;
  color:#eee;
  text-align: center;
}
input:focus, select:focus {
  border-color: #e74c3c;
  box-shadow: 0 0 6px #e74c3c77;
  outline: none;
}

button {
  padding: 16px 24px;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  font-weight: 600;
  font-size: 16px;
  transition: 0.2s;
  background: #8b0000;
  color: #fff;
  margin: 10px auto;
  display: block;
  max-width: 100%;
}
button:hover { background: #a00000; transform: translateY(-2px); }
button.add { width: 100%; }

.screens-grid {
  display: grid;
  grid-template-columns: 1fr; /* 1 coluna mobile-first */
  gap: 10px;
  margin-bottom: 15px;
}

.screen-item {
  border: 1px solid #444;
  border-radius: 10px;
  padding: 10px;
  background: #3a3a3a;
  display: flex;
  flex-direction: column;
}

.screen-header {
  font-weight: 600;
  margin-bottom: 5px;
  font-size: 15px;
  text-align: center;
  color:#eee;
}

.screen-row {
  display: flex;
  flex-direction: column;
  margin-bottom: 5px;
}

.value-display {
  background: #444;
  padding: 6px 8px;
  border-radius: 6px;
  font-weight: 600;
  text-align: center;
  margin-top: 4px;
  color:#fff;
}

.total-box {
  background: #333;
  padding: 12px;
  border-radius: 8px;
  margin-top: 10px;
  font-weight: bold;
  font-size: 15px;
  text-align: center;
}

button.remove {
  width: 100%;
  background: #000 !important;
  color: #fff !important;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  font-size: 16px;
  border: 1px solid #e53935;
  margin-top: 8px;
  gap: 8px;
}
button.remove .emoji {
  color: #e53935;
  font-size: 20px;
  margin-right: 6px;
}

/* Media Queries: tablets e desktop */
@media (min-width: 480px) {
  .screens-grid {
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
  }
  h2 { font-size: 24px; }
  h3 { font-size: 20px; }
  .screen-header { font-size: 16px; }
}
</style>
</head>
<body>
<div class="container">

  <div style="display: flex; flex-direction: column; align-items: center; gap: 4px; margin-bottom: 15px;">
    <span style="color: #e53935; font-size: 2rem; font-weight: bold; letter-spacing: 1px;">MOSQUITEIRA.COM</span>
    <span style="color: #eee; font-size: 1.1rem; display: flex; align-items: center; gap: 8px;">
  <img src="zap.jpg" alt="WhatsApp" style="height: 1.4em; width: 1.4em; vertical-align: middle; border-radius: 50%; box-shadow: 0 0 6px #111; background: #222; padding: 2px; object-fit: cover; border: 2px solid #25d366;"> (13) 4141-2112
    </span>
  </div>


  <label>Nome</label>
  <input id="nome" type="text" placeholder="Digite seu nome">



  <h3>Telas</h3>
  <div id="screens" class="screens-grid"></div>
  <button class="add" onclick="addScreen()">‚ûï Adicionar Tela</button>

  <div class="total-box" id="totalBox">
    Total: R$0,00<br>
    3x sem juros: R$0,00<br>
    √† vista (-5%): R$0,00
  </div>


  <button class="send" onclick="sendWhatsApp()">üì≤ Enviar Or√ßamento</button>
  <button class="clear" onclick="resetForm()">üóëÔ∏è Limpar Tudo</button>
</div>

<script>
const $ = id => document.getElementById(id);
let screens = [];

function formatBRL(value){ return value.toLocaleString('pt-BR',{style:'currency',currency:'BRL'}); }
const tipoLabels = { removivel:"Tela Remov√≠vel", correr:"Tela de Correr", tecido:"Troca de Tecido" };

function calcValue(h,w,tipo){ 
  if(!h || !w) return 0; 
  switch(tipo){
    case 'removivel': return (h+0)*(w+0)*349;
    case 'correr': return (h*w*459) + (1*1);
    case 'tecido': return (h*w*119) + (1*1);
    default: return 0;
  }
}

function createScreen(index){
  const div=document.createElement('div'); 
  div.className='screen-item';
  div.innerHTML=`
    <div class="screen-header">${screens[index].ambient || 'Nova Tela'}</div>
    <div class="screen-row">
      <label>Ambiente</label>
      <input class="ambient" type="text" placeholder="Ex: Quarto da filha" value="${screens[index].ambient || ''}">
    </div>
    <div class="screen-row">
      <label>Tipo da Tela</label>
      <select class="tipo">
        <option value="removivel" ${screens[index].tipo==='removivel'?'selected':''}>Tela Remov√≠vel</option>
        <option value="correr" ${screens[index].tipo==='correr'?'selected':''}>Tela de Correr</option>
        <option value="tecido" ${screens[index].tipo==='tecido'?'selected':''}>Troca de Tecido</option>
      </select>
    </div>
    <div class="screen-row">
      <label>Altura (m)</label>
      <input class="height" type="number" step="0.01" placeholder="1.20" value="${screens[index].h || ''}">
    </div>
    <div class="screen-row">
      <label>Largura (m)</label>
      <input class="width" type="number" step="0.01" placeholder="0.80" value="${screens[index].w || ''}">
    </div>
    <div class="screen-row">
      <label>Pre√ßo</label>
      <div class="value-display">${screens[index].v ? formatBRL(screens[index].v) : 'R$ 0,00'}</div>
    </div>
  <button class="remove" onclick="removeScreen(${index})"><span class="emoji">‚ùå</span> Remover</button>
  `;

  const ambient=div.querySelector('.ambient');
  const height=div.querySelector('.height');
  const width=div.querySelector('.width');
  const tipo=div.querySelector('.tipo');
  const valueDisplay=div.querySelector('.value-display');
  const header=div.querySelector('.screen-header');

  ambient.oninput=e=>{
    screens[index].ambient=e.target.value; 
    header.innerText=e.target.value || 'Nova Tela';
  };

  function updateValue(){
    screens[index].h=parseFloat(height.value)||0;
    screens[index].w=parseFloat(width.value)||0;
    screens[index].tipo=tipo.value;
    screens[index].v=calcValue(screens[index].h,screens[index].w,screens[index].tipo);
    valueDisplay.innerText=formatBRL(screens[index].v);
    calcTotals();
  }

  height.oninput=updateValue;
  width.oninput=updateValue;
  tipo.oninput=updateValue;

  return div;
}

function render(){ $('screens').innerHTML=''; screens.forEach((s,i)=>$('screens').appendChild(createScreen(i))); calcTotals(); }
function addScreen(){ screens.push({ambient:'',h:0,w:0,v:0,tipo:'removivel'}); render(); }
function removeScreen(i){ screens.splice(i,1); render(); }


function calcTotals(){
  const total = screens.reduce((s, t) => s + (t.v || 0), 0);
  // Fun√ß√£o para arredondar para o real mais pr√≥ximo e exibir ,00
  function arredondaReal(valor) {
    let arredondado = Math.round(valor);
    return arredondado.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL', minimumFractionDigits: 2, maximumFractionDigits: 2 });
  }
  const total3x = total / 3;
  const totalVista = total - (total * 0.05);
  $('totalBox').innerHTML = `Total: ${formatBRL(total)}<br>3x sem juros: ${arredondaReal(total3x)}<br>√† vista (-5%): ${arredondaReal(totalVista)}`;
  return total;
}

function sendWhatsApp(){
  let nome = $('nome').value;
  let total = calcTotals();
  // Fun√ß√£o para arredondar para o real mais pr√≥ximo e exibir ,00
  function arredondaReal(valor) {
    let arredondado = Math.round(valor);
    return arredondado.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL', minimumFractionDigits: 2, maximumFractionDigits: 2 });
  }
  let msg = `*Or√ßamento Telas Mosquiteiras*\n\n`;
  msg += `Nome: ${nome}\n\n`;
  screens.forEach((s, i) => {
    msg += `Tela ${i + 1} - ${s.ambient}\nTipo: ${tipoLabels[s.tipo]}\nAltura: ${s.h}m x Largura: ${s.w}m\nValor: ${formatBRL(s.v)}\n\n`;
  });
  msg += `Total: ${formatBRL(total)}\n`;
  msg += `3x sem juros: ${arredondaReal(total / 3)}\n`;
  msg += `√† vista: ${arredondaReal(total - (total * 0.05))}\n`;

  // Codificar a mensagem para URL
  let urlMsg = encodeURIComponent(msg);
  window.open(`https://wa.me/551341412112?text=${urlMsg}`,'_blank');
}

function resetForm(){ $('nome').value=''; $('telefone').value=''; screens=[]; render(); }

render();
</script>
</body>
</html>
